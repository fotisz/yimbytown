{"version":3,"sources":["webpack:///./src/components/App/App.js","webpack:///./src/components/FI/FI.js","webpack:///./src/components/PDE/pde.js","webpack:///./src/components/PDE/pdeHelpers.js","webpack:///./src/components/VkPlot/VkPlot.js","webpack:///./src/components/VkPlot/vkHelpers.js","webpack:///./src/constants/constants.js","webpack:///./src/main.js","webpack:///./src/components/App/styleApp.scss","webpack:///./src/components/FI/styleFI.scss","webpack:///./src/components/PDE/stylePde.scss","webpack:///./src/components/VkPlot/styleVkPlot.scss","webpack:///./src/styleShared.scss","webpack:///./src/components/App/styleApp.scss?b3c3","webpack:///./src/components/FI/styleFI.scss?c483","webpack:///./src/components/PDE/stylePde.scss?0bbc","webpack:///./src/components/VkPlot/styleVkPlot.scss?daeb","webpack:///./src/styleShared.scss?3ae0"],"names":["Home","WIDTH","ROAD_WIDTH","POOL_WIDTH","HEIGHT","KM","ROAD_HEIGHT","TIME_UNIT","LANE_LENGTH","QK","k","Q0","W","VS","s","xScale","scaleLinear","domain","range","Road","pure","cars","style","lane","map","d","id","car","x","Pool","poolSize","pool","carExited","FI","constructor","props","createCars","state","render","main","row","onChange","KJ","shared","button","pausePlay","paused","timer","startTimer","last","z","elapsed","Î´","v","filter","setState","newX","timeout","Math","max","stop","e","target","value","numCars","floor","uniqueId","App","MAR","trans","y","J","Canvas","componentDidMount","ctx","canvas","getContext","componentDidUpdate","forEach","i","length","gap","w","fillStyle","colorScale","fillRect","CANVAS_HEIGHT","transform","position","Svg$","carHeight","svg","road","overflowY","height","Svg","connect","Pde$","toggleBneck","bneckEnabled","plot","display","flexDirection","buttonRow","startPlaying","dispatch","getState","ticker","dt","type","adder","interval","Pde","store","createStore","applyMiddleware","B0","B1","interpolate","colors","deepPurple","yellow","clamp","makeCar","carsReduce","CR","tick","l","res","space","push","add","bneckEnabledReduce","enabled","pausedReduce","reducer","combineReducers","upo","oldObject","newValues","Object","assign","Lane","getY2","Lanes","lanes","Dot","onMouseDown","onContextMenu","selector","dot","VkPlot$","width","resize","clientWidth","clientHeight","getX","getY","select","gTop","call","axisBottom","scale","gLeft","axisLeft","deleteDot","preventDefault","selectDot","isDragging","selected","onMouseUp","onClick","getKV","onMouseMove","left","top","rect","getBoundingClientRect","invert","clientX","clientY","componentWillUnmount","window","removeEventListener","addEventListener","pathMaker","getPathMaker","axisLabel","bg","dots","slice","bind","line","VkPlot","Path","vk","n","points","q","QkPlot$","getY3","getPathMaker2","QkPlot","getVk","$Plots","plots","textAlign","Plots","NUM_LANES","createSelector","moize","VF","dotsReduce","updateDot","min","addDot","concat","sort","a","b","LANES_INITIAL","lanesReduce","K0","console","log","document","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA,CAAnB;;AAEA,yDAAe,MACd;AAAC,qEAAD;AAAA;AACC;AAAA;AAAA,IAAK,WAAW,mDAAhB;AACC;AAAA;AAAA,KAAK,WAAW,sDAAhB;AACC;AAAC,kEAAD;AAAA,MAAM,IAAG,GAAT;AACC;AAAA;AAAA,OAAK,WAAW,4DAAhB;AAAA;AAAA;AADD,IADD;AAIC;AAAC,kEAAD;AAAA,MAAM,IAAG,KAAT;AACC;AAAA;AAAA,OAAK,WAAW,4DAAhB;AAAA;AAAA;AADD,IAJD;AAOC;AAAC,kEAAD;AAAA,MAAM,IAAG,MAAT;AACC;AAAA;AAAA,OAAK,WAAW,4DAAhB;AAAA;AAAA;AADD,IAPD;AAUC;AAAC,kEAAD;AAAA,MAAM,IAAG,KAAT;AACC;AAAA;AAAA,OAAK,WAAW,4DAAhB;AAAA;AAAA;AADD;AAVD,GADD;AAeC;AAAA;AAAA,KAAK,WAAW,uDAAhB;AACC,+DAAC,+DAAD,IAAO,WAAP,EAAa,MAAK,GAAlB,EAAsB,WAAWA,IAAjC,GADD;AAEC,+DAAC,+DAAD,IAAO,MAAK,KAAZ,EAAkB,WAAW,kEAA7B,GAFD;AAGC,+DAAC,+DAAD,IAAO,MAAK,MAAZ,EAAmB,WAAW,+DAA9B,GAHD;AAIC,+DAAC,+DAAD,IAAO,MAAK,KAAZ,EAAkB,WAAW,8DAA7B;AAJD;AAfD;AADD,CADD,E;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,QAAQ,IAAd;AACA,MAAMC,aAAa,IAAnB;AACA,MAAMC,aAAa,GAAnB;AACA,MAAMC,SAAS,EAAf;AACA,MAAMC,KAAK,GAAX;AACA,MAAMC,cAAc,EAApB;AACA,MAAMC,YAAY,EAAlB;AACA;AACA,MAAMC,cAAc,IAApB;AACA,MAAMC,KAAKC,KAAK;AACf,KAAIA,KAAK,qDAAT,EAAa,OAAOA,IAAI,qDAAX;AACb,KAAIA,IAAI,qDAAR,EAAY,OAAO,qDAAAC,GAAK,oDAAAC,IAAKF,IAAI,qDAAT,CAAZ;AACZ,QAAO,CAAP;AACA,CAJD;;AAMA,MAAMG,KAAKC,KAAKL,GAAG,OAAOK,CAAV,IAAeA,CAAf,GAAmB,IAAnC,C,CAAyC;;AAEzC,MAAMC,SAAS,oFAAAC,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAIT,WAAJ,CAArB,EAAuCU,KAAvC,CAA6C,CAAC,CAAD,EAAIhB,UAAJ,CAA7C,CAAf;;AAEA,MAAMiB,OAAO,8EAAAC,CAAK,CAAC,EAAEC,IAAF,EAAD,KACjB;AAAA;AAAA;AACC,uEAAM,WAAW,qDAAAC,CAAMC,IAAvB,EAA6B,OAAOrB,UAApC,EAAgD,QAAQI,WAAxD,GADD;AAEC;AAAA;AAAA;AACEkB,EAAA,kDAAAA,CAAIH,IAAJ,EAAUI,KACV;AACC,UAAM,GADP;AAEC,WAAQnB,cAAc,CAFvB;AAGC,MAAE,IAHH;AAIC,MAAE,GAJH;AAKC,QAAKmB,EAAEC,EALR;AAMC,cAAW,qDAAAJ,CAAMK,GANlB;AAOC,cAAY,aAAYZ,OAAOU,EAAEG,CAAT,CAAY;AAPrC,IADA;AADF;AAFD,CADY,CAAb;;AAmBA,MAAMC,OAAO,8EAAAT,CAAK,CAAC,EAAEU,QAAF,EAAD,KAAkB;AACnC,QACC;AAAA;AAAA,IAAG,WAAY,aAAY5B,UAAW,KAAtC;AACC,wEAAM,WAAW,qDAAAoB,CAAMS,IAAvB,EAA6B,OAAO5B,UAApC,EAAgD,QAAQG,WAAxD,GADD;AAEC;AAAA;AAAA;AACEY,GAAA,oDAAAA,CAAM,CAAN,EAASY,QAAT,EAAmBN,GAAnB,CAAuBC,KACvB;AACC,OAAGA,IAAI,CADR;AAEC,OAAE,GAFH;AAGC,eAAW,qDAAAH,CAAMU,SAHlB;AAIC,WAAM,GAJP;AAKC,YAAQ1B,cAAc,CALvB;AAMC,SAAKmB;AANN,KADA;AADF;AAFD,EADD;AAiBA,CAlBY,CAAb;;AAoBA,MAAMQ,EAAN,SAAiB,oDAAjB,CAA+B;AA6C9BC,aAAYC,KAAZ,EAAmB;AAClB,QAAMA,KAAN;;AADkB;;AAElB,MAAIzB,IAAI,CAAR;AACA,MAAIW,OAAOe,WAAW1B,CAAX,CAAX;AACA,OAAK2B,KAAL,GAAa;AACZ3B,IADY;AAEZW,OAFY;AAGZS,aAAU;AAHE,GAAb;AAKA;;AAQDQ,UAAS;AACR,SACC;AAAA;AAAA,KAAK,WAAW,qDAAAhB,CAAMiB,IAAtB;AACC;AAAA;AAAA,MAAK,WAAW,qDAAAjB,CAAMkB,GAAtB;AACC;AAAA;AAAA;AACC;AAAA;AAAA;AAAA;AAAA,MADD;AAEC;AACC,YAAK,OADN;AAEC,gBAAU,KAAKC,QAFhB;AAGC,aAAO,KAAKJ,KAAL,CAAW3B,CAHnB;AAIC,WAAI,GAJL;AAKC,YAAK,KALN;AAMC,WAAK,qDAAAgC;AANN;AAFD,KADD;AAYC;AAAA;AAAA,OAAK,WAAW,4DAAAC,CAAOC,MAAvB,EAA+B,SAAS,KAAKC,SAA7C;AACE,UAAKR,KAAL,CAAWS,MAAX,GAAoB,MAApB,GAA6B;AAD/B;AAZD,IADD;AAiBC;AAAA;AAAA,MAAK,OAAO5C,aAAaC,UAAzB,EAAqC,QAAQG,WAA7C;AACC,gEAAC,IAAD,IAAM,MAAM,KAAK+B,KAAL,CAAWhB,IAAvB,GADD;AAEC,gEAAC,IAAD,IAAM,UAAU,KAAKgB,KAAL,CAAWP,QAA3B;AAFD;AAjBD,GADD;AAwBA;AAvF6B;;;MAC9BiB,K,GAAQ,I;;MAERC,U,GAAa,MAAM;AAClB,MAAIC,OAAO,CAAX;AACA,MAAIC,IAAI,CAAR;AACA,OAAKH,KAAL,GAAa,8EAAAA,CAAMI,WAAW;AAC7B,SAAMC,IAAI,CAACD,UAAUF,IAAX,IAAmB1C,SAA7B;AACA0C,UAAOE,OAAP;AACA,OAAIE,IAAIxC,GAAG,OAAO,KAAKwB,KAAL,CAAW3B,CAArB,CAAR;AACA,OAAIW,OAAO,KAAKgB,KAAL,CAAWhB,IAAX,CAAgBiC,MAAhB,CAAuB7B,KAAKA,EAAEG,CAAF,GAAMpB,WAAlC,CAAX;AACA,QAAK+C,QAAL,CAAc,CAAC,EAAElC,IAAF,EAAQS,QAAR,EAAD,KAAwB;AACrCT,WAAO,kDAAAG,CAAIH,IAAJ,EAAUI,KAAK;AACrB,SAAI+B,OAAO/B,EAAEG,CAAF,GAAMwB,IAAIC,CAArB;;AAEA,SAAIG,OAAOhD,WAAX,EAAwB;AACvBgD,cAAQhD,WAAR;AACAsB,iBAAWA,WAAW,CAAtB;AACA2B,MAAA,gFAAAA,CAAQ,MAAM;AACb,YAAKF,QAAL,CAAc,CAAC,EAAEzB,QAAF,EAAD,MAAmB;AAChCA,kBAAU4B,KAAKC,GAAL,CAAS7B,WAAW,CAApB,EAAuB,CAAvB;AADsB,QAAnB,CAAd;AAGA,OAJD,EAIG,IAJH;AAKA;AACD,YAAO;AACNJ,UAAID,EAAEC,EADA;AAENE,SAAG,CAACH,EAAEG,CAAF,GAAMwB,IAAIC,CAAX,IAAgB7C;AAFb,MAAP;AAIA,KAhBM,CAAP;;AAkBA,WAAO;AACNa,SADM;AAENS;AAFM,KAAP;AAIA,IAvBD;AAwBA,GA7BY,CAAb;AA8BA,E;;MACDe,S,GAAY,MAAM;AACjB,MAAI,KAAKE,KAAT,EAAgB;AACf,QAAKA,KAAL,CAAWa,IAAX;AACA,QAAKb,KAAL,GAAa,IAAb;AACA,GAHD,MAGO;AACN,QAAKC,UAAL;AACA;AACD,E;;MAWDP,Q,GAAWoB,KAAK;AACf,MAAInD,IAAI,CAACmD,EAAEC,MAAF,CAASC,KAAlB;AACA,OAAKR,QAAL,CAAc;AACb7C,IADa;AAEbW,SAAMe,WAAW1B,CAAX;AAFO,GAAd;AAIA,E;;;AA6BF,SAAS0B,UAAT,CAAoB1B,CAApB,EAAiE;AAChE;AACA,KAAIsD,UAAUN,KAAKO,KAAL,CAAWzD,cAAc,IAAd,GAAqBE,CAAhC,CAAd;AACA,QAAO,oDAAAQ,CAAM,CAAN,EAASV,cAAc,IAAd,GAAqBE,CAA9B,EAAiCc,GAAjC,CAAqCC,MAAM;AACjDC,MAAI,uDAAAwC,EAD6C;AAEjDtC,KAAGH,IAAIjB,WAAJ,GAAkBwD;AAF4B,EAAN,CAArC,CAAP;AAIA;;AAED,MAAMG,MAAM,MAAM,4DAAC,EAAD,OAAlB;;AAEA,yDAAeA,GAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;;AAEA,MAAM7D,cAAc,EAApB;AAAA,MAAwB8D,MAAM,CAA9B;;AAEA,SAASC,KAAT,CAAezC,CAAf,EAAkB0C,CAAlB,EAAqB;AACpB,QAAQ,aAAY1C,CAAE,IAAG0C,CAAE,GAA3B;AACA;AACD,IAAIC,IAAI,CAAR;;AAEA,MAAMC,MAAN,SAAqB,gDAArB,CAA+B;AAC9BC,qBAAoB;AACnB,OAAKC,GAAL,GAAW,KAAKC,MAAL,CAAYC,UAAZ,CAAuB,IAAvB,CAAX;AACA;AACDC,sBAAqB;AACpB,MAAI,EAAExD,IAAF,KAAW,KAAKc,KAApB;AACAoC,OAAK,GAAL;AACAlD,OAAKyD,OAAL,CAAa,CAACrD,CAAD,EAAIsD,CAAJ,KAAU;AACtB,OAAIA,KAAK,CAAL,IAAUA,KAAK1D,KAAK2D,MAAL,GAAc,CAAjC,EAAoC;AACpC,OAAIpD,IAAI,kFAAAb,CAAO,CAACU,EAAEG,CAAF,GAAMP,KAAK0D,IAAI,CAAT,EAAYnD,CAAnB,IAAwB,CAA/B,CAAR;AACA,OAAIqD,MAAM,CAAC5D,KAAK0D,IAAI,CAAT,EAAYnD,CAAZ,GAAgBP,KAAK0D,IAAI,CAAT,EAAYnD,CAA7B,IAAkC,CAA5C;AACA,OAAIsD,IAAI,kFAAAnE,CAAOkE,GAAP,CAAR;AACA,QAAKP,GAAL,CAASS,SAAT,GAAqB,sFAAAC,CAAWH,GAAX,CAArB;AACA,QAAKP,GAAL,CAASW,QAAT,CAAkBzD,CAAlB,EAAqB,kEAAA0D,GAAgBf,CAArC,EAAwCW,CAAxC,EAA2C,EAA3C;AACA,GAPD;AAQA;AACD5C,UAAS;AACR,SACC;AAAA;AAAA;AACC,WAAO;AACNiD,gBAAY,cAAahB,IAAI,kEAAc,KADrC;AAENiB,eAAU;AAFJ;AADR;AAMC;AACC,eAAW,sDAAAlE,CAAMqD,MADlB;AAEC,WAAO,0DAFR;AAGC,YAAQ,kEAHT;AAIC,SAAKlD,KAAM,KAAKkD,MAAL,GAAclD;AAJ1B;AAND,GADD;AAeA;AAhC6B;;AAmC/B,MAAMgE,IAAN,SAAmB,gDAAnB,CAA6B;AAC5BnD,UAAS;AACR,MAAI,EAAEjB,IAAF,KAAW,KAAKc,KAApB;AACA,MAAIuD,YAAYpF,cAAc,CAA9B;AACA,SACC;AAAA;AAAA;AACC;AAAA;AAAA;AACC,UAAKmB,KAAM,KAAKkE,GAAL,GAAWlE,CADvB;AAEC,gBAAW,sDAAAH,CAAMqE,GAFlB;AAGC,aAAQrF,WAHT;AAIC,YAAO,0DAAAL;AAJR;AAMC,0EAAM,WAAW,sDAAAqB,CAAMsE,IAAvB,EAA6B,QAAQtF,WAArC,EAAkD,OAAO,0DAAzD,GAND;AAOEe,SAAKG,GAAL,CAAS,CAAC,EAAEE,EAAF,EAAME,CAAN,EAAD,KACT;AACC,YAAM,GADP;AAEC,QAAE,OAFH;AAGC,aAAQ8D,SAHT;AAIC,gBAAW,sDAAApE,CAAMK,GAJlB;AAKC,UAAKD,EALN;AAMC,gBAAW2C,MAAM,kFAAAtD,CAAOa,CAAP,CAAN,EAAiB,CAAjB;AANZ,MADA;AAPF,IADD;AAmBC;AAAA;AAAA,MAAK,OAAO,EAAEiE,WAAW,QAAb,EAAuBC,QAAQ,OAA/B,EAAZ;AACC,gEAAC,MAAD,IAAQ,MAAMzE,IAAd;AADD;AAnBD,GADD;AAyBA;AA7B2B;;AAgC7B,MAAM0E,MAAM,mFAAAC,CAAQ3D,UAAU;AAC7BhB,OAAMgB,MAAMhB;AADiB,CAAV,CAAR,EAERoE,IAFQ,CAAZ;;AAIA,MAAMQ,OAAO,CAAC,EAAEpD,SAAF,EAAaqD,WAAb,EAA0BpD,MAA1B,EAAkCqD,YAAlC,EAAD,KACZ;AAAA;AAAA,GAAK,WAAW,sDAAA7E,CAAM8E,IAAtB;AACC;AAAA;AAAA,IAAK,OAAO,EAAEC,SAAS,MAAX,EAAmBC,eAAe,QAAlC,EAAZ;AACC;AAAA;AAAA,KAAK,WAAW,sDAAAhF,CAAMiF,SAAtB;AACC;AAAA;AAAA,MAAK,WAAW,4DAAA5D,CAAOC,MAAvB,EAA+B,SAASC,SAAxC;AACEC,aAAS,MAAT,GAAkB;AADpB,IADD;AAIC;AAAA;AAAA,MAAK,WAAW,4DAAAH,CAAOC,MAAvB,EAA+B,SAASsD,WAAxC;AACEC,mBAAe,oBAAf,GAAsC;AADxC;AAJD,GADD;AASC,8DAAC,GAAD;AATD;AADD,CADD;;AAgBA,SAASK,YAAT,GAAwB;AACvB,QAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC9B,MAAIzD,OAAO,CAAX;AACA,MAAI0D,SAAS,8EAAA5D,CAAMI,WAAW;AAC7B,OAAIyD,KAAK,CAACzD,UAAUF,IAAX,IAAmB,8DAA5B;AACA,OAAIZ,QAAQqE,UAAZ;AACA,OAAIrE,MAAMS,MAAV,EAAkB;AACjB,WAAO6D,OAAO/C,IAAP,EAAP;AACA;AACD6C,YAAS,EAAEI,MAAM,MAAR,EAAgBD,EAAhB,EAAoBT,cAAc9D,MAAM8D,YAAxC,EAAT;AACAlD,UAAOE,OAAP;AACA,GARY,CAAb;AASA,MAAI2D,QAAQ,iFAAAC,CAAS,MAAM;AAC1BN,YAAS,EAAEI,MAAM,KAAR,EAAT;AACA,OAAIH,WAAW5D,MAAf,EAAuB;AACtBgE,UAAMlD,IAAN;AACA;AACD,GALW,EAKT,OAAO,qDAAP,GAAY,8DALH,CAAZ;AAMA,EAjBD;AAkBA;;AAED,SAASf,SAAT,GAAqB;AACpB,QAAO,CAAC4D,QAAD,EAAWC,QAAX,KAAwB;AAC9BD,WAAS,EAAEI,MAAM,WAAR,EAAT;AACApD,EAAA,gFAAAA,CAAQ,MAAM;AACb,OAAI,CAACiD,WAAW5D,MAAhB,EAAwB;AACvB2D,aAASD,cAAT;AACA;AACD,GAJD;AAKA,EAPD;AAQA;;AAED,MAAMQ,MAAM,mFAAAhB,CACX,CAAC,EAAElD,MAAF,EAAUqD,YAAV,EAAD,MAA+B,EAAErD,MAAF,EAAUqD,YAAV,EAA/B,CADW,EAEXM,aAAa;AACZ5D,aAAY;AACX4D,WAAS5D,WAAT;AACA,EAHW;AAIZqD,eAAc;AACbO,WAAS,EAAEI,MAAM,aAAR,EAAT;AACA;AANW,CAAb,CAFW,EAUVZ,IAVU,CAAZ;;AAYA,MAAMgB,QAAQ,iFAAAC,CAAY,4DAAZ,EAAqB,qFAAAC,CAAgB,oDAAhB,CAArB,CAAd;;AAEA,yDAAe,MACd;AAAC,8DAAD;AAAA,GAAU,OAAOF,KAAjB;AACC,6DAAC,GAAD;AADD,CADD,E;;;;;;;;;;;;;;;;;;;;;;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM3B,gBAAgB,GAAtB;AAAA;AAAA;AACP,MAAM9E,cAAc,IAApB;AACO,MAAMP,QAAQ,IAAd;AAAA;AAAA;AACP;AACA,MAAMmH,KAAK5G,cAAc,GAAzB;AACA,MAAM6G,KAAK7G,cAAc,GAAzB;AACO,MAAMD,YAAY,EAAlB;AAAA;AAAA;AACA,MAAM6E,aAAa,oFAAApE,GACxBC,MADwB,CACjB,CAAC,OAAO,qDAAP,GAAY,CAAb,EAAgB,OAAO,qDAAP,GAAY,EAA5B,CADiB,EAExBqG,WAFwB,CAEZ,0EAFY,EAGxBpG,KAHwB,CAGlB,CAAC,gEAAAqG,CAAOC,UAAP,CAAkB,MAAlB,CAAD,EAA4B,gEAAAD,CAAOE,MAAP,CAAc,MAAd,CAA5B,CAHkB,EAIxBC,KAJwB,CAIlB,IAJkB,CAAnB;AAAA;AAAA;;AAMP,MAAMjH,KAAKC,KAAK;AACf,KAAIA,KAAK,qDAAT,EAAa,OAAOA,IAAI,qDAAX;AACb,KAAIA,IAAI,qDAAR,EAAY,OAAO,qDAAAC,GAAK,oDAAAC,IAAKF,IAAI,qDAAT,CAAZ;AACZ,QAAO,CAAP;AACA,CAJD;;AAMA,MAAMG,KAAKC,KAAKL,GAAG,OAAOK,CAAV,IAAeA,CAAf,GAAmB,IAAnC,C,CAAyC;;AAElC,MAAMC,SAAS,oFAAAC,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAIT,WAAJ,CAArB,EAAuCU,KAAvC,CAA6C,CAAC,CAAD,EAAIjB,KAAJ,CAA7C,CAAf;AAAA;AAAA;;AAEP,SAAS0H,OAAT,CAAiB/F,CAAjB,EAAoByB,CAApB,EAAuB;AACtB,QAAO,EAAE3B,IAAI,uDAAAwC,EAAN,EAAkBtC,CAAlB,EAAqByB,CAArB,EAAP;AACA;;AAED,MAAMuE,aAAa,0FAAAC,CAAG,oDAAA3G,CAAM,CAAN,EAAS,GAAT,EAAcM,GAAd,CAAkBC,KAAKkG,QAAQlG,IAAI,IAAJ,GAAW,qDAAnB,EAAuB,qDAAvB,CAAvB,CAAH,EAAuD;AACzEqG,MAAKzG,IAAL,EAAW,EAAEuF,EAAF,EAAMT,YAAN,EAAX,EAAiC;AAChC,MAAI4B,IAAI1G,KAAK2D,MAAL,GAAc,CAAtB;AACA,MAAIgD,MAAM,EAAV;;AAEA,OAAK,IAAIjD,IAAI,CAAb,EAAgBA,KAAKgD,CAArB,EAAwBhD,GAAxB,EAA6B;AAC5B,OAAI,EAAEnD,CAAF,EAAKF,EAAL,KAAYL,KAAK0D,CAAL,CAAhB;AACA,OAAIkD,QAAQlD,IAAIgD,CAAJ,GAAQ1G,KAAK0D,IAAI,CAAT,EAAYnD,CAAZ,GAAgBA,CAAxB,GAA4BA,IAAIP,KAAK0D,IAAI,CAAT,EAAYnD,CAAxD;AACA,OAAIyB,IAAI,CAAC8C,YAAD,IAAiBvE,IAAIwF,EAArB,IAA2BxF,IAAIyF,EAA/B,GAAoCxG,GAAGoH,KAAH,CAApC,GAAgDpH,GAAGoH,KAAH,IAAY,GAApE;AACA,OAAIrG,KAAKpB,WAAT,EAAsBwH,IAAIE,IAAJ,CAAS,EAAExG,EAAF,EAAME,GAAGA,IAAIgF,KAAKvD,CAAlB,EAAT;AACtB;AACD,SAAO2E,GAAP;AACA,EAZwE;AAazEG,KAAI9G,IAAJ,EAAU;AACT,MAAIA,KAAK,CAAL,KAAWA,KAAK,CAAL,EAAQO,CAAR,GAAY,OAAO,qDAAlC,EAAsC,OAAOP,IAAP;AACtC,MAAIP,IAAIO,KAAK,CAAL,EAAQO,CAAhB;AACA,MAAIyB,IAAIxC,GAAGC,CAAH,CAAR;AACA,SAAO,CAAC6G,QAAQ,CAAR,EAAWtE,CAAX,CAAD,EAAgB,GAAGhC,IAAnB,CAAP;AACA;AAlBwE,CAAvD,CAAnB;;AAqBA,MAAM+G,qBAAqB,0FAAAP,CAAG,KAAH,EAAU;AACpC3B,aAAYmC,OAAZ,EAAqB;AACpB,SAAO,CAACA,OAAR;AACA;AAHmC,CAAV,CAA3B;;AAMA,MAAMC,eAAe,0FAAAT,CAAG,IAAH,EAAS;AAC7BhF,WAAUC,MAAV,EAAkB;AACjB,SAAO,CAACA,MAAR;AACA;AAH4B,CAAT,CAArB;;AAMO,MAAMyF,UAAU,qFAAAC,CAAgB;AACtCnH,OAAMuG,UADgC;AAEtC9E,SAAQwF,YAF8B;AAGtCnC,eAAciC;AAHwB,CAAhB,CAAhB;AAAA;AAAA;;AAMP,SAASK,GAAT,CAAaC,SAAb,EAAwBC,SAAxB,EAAmC;AAClC,QAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBH,SAAlB,EAA6BC,SAA7B,CAAP;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAWA,MAAMvE,MAAM,EAAZ;;AAEA,MAAM6C,QAAQ,kFAAAC,CAAY,4DAAZ,EAAqB,sFAAAC,CAAgB,oDAAhB,CAArB,CAAd;;AAEA,MAAM2B,OAAO,8EAAA1H,CAAK,CAAC,EAAE0E,MAAF,EAAUpF,CAAV,EAAakB,CAAb,EAAgBP,IAAhB,EAAD,KAA4B;AAC7C,KAAIiD,IAAI,iFAAAyE,CAAMjD,MAAN,CAAR;AACA,QACC;AAAA;AAAA,IAAG,WAAW,yDAAAxE,CAAMC,IAApB,EAA0B,WAAY,aAAYK,EAAElB,CAAF,CAAK,KAAvD;AACC,wEAAM,WAAW,yDAAAY,CAAMsE,IAAvB,EAA6B,QAAQE,MAArC,EAA6C,OAAM,GAAnD,GADD;AAEEzE,OAAKG,GAAL,CAASC,KACT;AACC,QAAKA,EAAEC,EADR;AAEC,MAAE,GAFH;AAGC,MAAE,KAHH;AAIC,UAAM,GAJP;AAKC,WAAO,IALR;AAMC,cAAW,yDAAAJ,CAAMK,GANlB;AAOC,cAAY,eAAc2C,EAAE7C,EAAEG,CAAJ,CAAO;AAPlC,IADA;AAFF,EADD;AAgBA,CAlBY,CAAb;;AAoBA,MAAMoH,QAAQ,oFAAAhD,CAAQ,CAAC3D,KAAD,EAAQF,KAAR,MAAmB;AACxC8G,QAAO5G,MAAM4G,KAD2B;AAExCnD,SAAQ3D,MAAM2D,MAF0B;AAGxClE,IAAGO,MAAMP;AAH+B,CAAnB,CAAR,EAIV,CAAC,EAAEqH,KAAF,EAASnD,MAAT,EAAiBlE,CAAjB,EAAD,KAA0B;AAC7B,QACC;AAAA;AAAA;AACEqH,QAAMzH,GAAN,CAAUD,QACV,4DAAC,IAAD,IAAM,GAAGA,KAAKb,CAAd,EAAiB,QAAQoF,MAAzB,EAAiC,GAAGlE,CAApC,EAAuC,MAAML,KAAKF,IAAlD,EAAwD,KAAKE,KAAKb,CAAlE,GADA;AADF,EADD;AAOA,CAZa,CAAd;;AAcA,MAAMwI,MAAM,8EAAA9H,CAAK,CAAC,EAAE+H,WAAF,EAAeC,aAAf,EAA8B1I,CAA9B,EAAiC2C,CAAjC,EAAoCzB,CAApC,EAAuC0C,CAAvC,EAAD,KAChB;AAAA;AAAA;AACC,eAAa6E,WADd;AAEC,iBAAeC,aAFhB;AAGC,aAAY,aAAYxH,EAAElB,CAAF,CAAK,IAAG4D,EAAEjB,CAAF,CAAK;AAHtC;AAKC,yEAAQ,GAAE,IAAV,EAAe,WAAW,yDAAA/B,CAAM+H,QAAhC,GALD;AAMC,yEAAQ,GAAE,GAAV,EAAc,WAAW,yDAAA/H,CAAMgI,GAA/B;AAND,CADW,CAAZ;;AAWA,MAAMC,OAAN,SAAsB,gDAAtB,CAAgC;AAAA;AAAA;;AAAA,sCAC/BlH,KAD+B,GACvB;AACPmH,UAAO,GADA;AAEP1D,WAAQ;AAFD,GADuB,OAK/B2D,MAL+B,GAKtB,MAAM;AACd,QAAKlG,QAAL,CACC;AACCiG,WAAO,KAAK7D,GAAL,CAAS+D,WAAT,GAAuB,IAAItF,GADnC;AAEC0B,YAAQ,KAAKH,GAAL,CAASgE,YAAT,GAAwB,IAAIvF;AAFrC,IADD,EAKC,MAAM;AACL,QAAIxC,IAAI,gFAAAgI,CAAK,KAAKvH,KAAL,CAAWmH,KAAhB,CAAR;AACA,QAAIlF,IAAI,gFAAAuF,CAAK,KAAKxH,KAAL,CAAWyD,MAAhB,CAAR;AACAgE,IAAA,oFAAAA,CAAO,KAAKC,IAAZ,EAAkBC,IAAlB,CAAuB,mFAAAC,GAAaC,KAAb,CAAmBtI,CAAnB,CAAvB;AACAkI,IAAA,oFAAAA,CAAO,KAAKK,KAAZ,EAAmBH,IAAnB,CAAwB,iFAAAI,GAAWF,KAAX,CAAiB5F,CAAjB,CAAxB;AACA,IAVF;AAYA,GAlB8B,OAoB/B+F,SApB+B,GAoBnB,CAAC3I,EAAD,EAAamC,CAAb,KAA+B;AAC1CA,KAAEyG,cAAF,IAAoB,KAAKnI,KAAL,CAAWsE,QAAX,CAAoB,EAAEI,MAAM,WAAR,EAAqBnF,EAArB,EAApB,CAApB;AACA,GAtB8B,OAwB/B6I,SAxB+B,GAwBlB7I,EAAD,IAAgB;AAC3B,QAAK8I,UAAL,GAAkB,IAAlB;AACA,QAAKC,QAAL,GAAgB/I,EAAhB;AACA,GA3B8B,OA6B/BgJ,SA7B+B,GA6BnB,MAAM;AACjB,QAAKF,UAAL,GAAkB,KAAlB;AACA,GA/B8B,OAiC/BG,OAjC+B,GAiCpB9G,CAAD,IAAmB;AAC5B,OAAI,EAAEnD,CAAF,EAAK2C,CAAL,KAAW,KAAKuH,KAAL,CAAW/G,CAAX,CAAf;AACA,QAAK2G,UAAL,GAAkB,IAAlB;AACA,QAAKC,QAAL,GAAgB,uDAAAvG,EAAhB;AACA,QAAK/B,KAAL,CAAWsE,QAAX,CAAoB,EAAEI,MAAM,QAAR,EAAkBnF,IAAI,KAAK+I,QAA3B,EAAqC/J,CAArC,EAAwC2C,CAAxC,EAApB;AACA,GAtC8B,OAwC/BwH,WAxC+B,GAwChBhH,CAAD,IAAmB;AAChC,OAAI,CAAC,KAAK2G,UAAV,EAAsB;AACtB,OAAI,EAAE9J,CAAF,EAAK2C,CAAL,KAAW,KAAKuH,KAAL,CAAW/G,CAAX,CAAf;AACA,QAAK1B,KAAL,CAAWsE,QAAX,CAAoB,EAAEI,MAAM,WAAR,EAAqBnF,IAAI,KAAK+I,QAA9B,EAAwC/J,CAAxC,EAA2C2C,CAA3C,EAApB;AACA,GA5C8B,OA8C/BuH,KA9C+B,GA8CtB/G,CAAD,IAAmB;AAC1B,OAAI,EAAEiH,IAAF,EAAQC,GAAR,KAAgB,KAAKC,IAAL,CAAUC,qBAAV,EAApB;AACA,OAAIrJ,IAAI,gFAAAgI,CAAK,KAAKvH,KAAL,CAAWmH,KAAhB,CAAR;AACA,OAAIlF,IAAI,gFAAAuF,CAAK,KAAKxH,KAAL,CAAWyD,MAAhB,CAAR;AACA,UAAO;AACNpF,OAAGkB,EAAEsJ,MAAF,CAASrH,EAAEsH,OAAF,GAAYL,IAArB,CADG;AAENzH,OAAGiB,EAAE4G,MAAF,CAASrH,EAAEuH,OAAF,GAAYL,GAArB;AAFG,IAAP;AAIA,GAtD8B;AAAA;;AAwD/BM,wBAAuB;AACtBC,SAAOC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK9B,MAA1C;AACA;;AAEDhF,qBAAoB;AACnB6G,SAAOE,gBAAP,CAAwB,QAAxB,EAAkC,KAAK/B,MAAvC;AACA,OAAKA,MAAL;AACA;;AAEDnH,UAAS;AACR,QAAM,EAAEkH,KAAF,EAAS1D,MAAT,KAAoB,KAAKzD,KAA/B;AACA,QAAMT,IAAI,gFAAAgI,CAAKJ,KAAL,CAAV;AACA,QAAMlF,IAAI,gFAAAuF,CAAK/D,MAAL,CAAV;AACA,QAAM2F,YAAY,wFAAAC,CAAa9J,CAAb,EAAgB0C,CAAhB,CAAlB;AACA,SACC;AAAA;AAAA;AACC;AAAA;AAAA,MAAK,KAAK7C,KAAM,KAAKkE,GAAL,GAAWlE,CAA3B,EAA+B,WAAW,yDAAAH,CAAMqE,GAAhD;AACC;AAAA;AAAA;AACC;AAAA;AAAA,QAAU,IAAG,OAAb;AACC,4EAAM,OAAO6D,KAAb,EAAoB,QAAQ1D,MAA5B;AADD;AADD,KADD;AAMC;AAAA;AAAA,OAAG,WAAY,aAAY1B,GAAI,IAAGA,GAAI,GAAtC;AACC;AAAA;AAAA,QAAG,KAAK3C,KAAM,KAAKsI,IAAL,GAAYtI,CAA1B,EAA8B,WAAY,eAAcqE,MAAO,GAA/D;AACC;AAAA;AAAA,SAAG,WAAY,aAAY0D,QAAQ,CAAE,MAArC;AACC;AAAA;AAAA,UAAM,WAAW,yDAAAlI,CAAMqK,SAAvB;AAAA;AAAA;AADD;AADD,MADD;AAMC;AAAA;AAAA,QAAG,KAAKlK,KAAM,KAAK0I,KAAL,GAAa1I,CAA3B;AACC;AAAA;AAAA,SAAG,WAAY,iBAAgBqE,SAAS,CAAE,eAA1C;AACC;AAAA;AAAA,UAAM,WAAW,yDAAAxE,CAAMqK,SAAvB;AAAA;AAAA;AADD;AADD;AAND,KAND;AAkBC;AAAA;AAAA;AACC,gBAAS,aADV;AAEC,iBAAW,KAAKjB,SAFjB;AAGC,mBAAa,KAAKG,WAHnB;AAIC,iBAAY,aAAYzG,GAAI,IAAGA,GAAI;AAJpC;AAMC;AACC,mBAAa,KAAKuG,OADnB;AAEC,iBAAW,yDAAArJ,CAAMsK,EAFlB;AAGC,aAAOpC,KAHR;AAIC,cAAQ1D,MAJT;AAKC,WAAKrE,KAAM,KAAKuJ,IAAL,GAAYvJ;AALxB,OAND;AAaC,iEAAC,KAAD,IAAO,GAAGG,CAAV,EAAa,QAAQkE,MAArB,GAbD;AAcE,UAAK3D,KAAL,CAAW0J,IAAX,CACCC,KADD,CACO,CADP,EACU,KAAK3J,KAAL,CAAW0J,IAAX,CAAgB7G,MAAhB,GAAyB,CADnC,EAECxD,GAFD,CAEK,CAACC,CAAD,EAAIsD,CAAJ,KACJ,4DAAC,GAAD;AACC,WAAKtD,EAAEC,EADR;AAEC,SAAGD,EAAEf,CAFN;AAGC,SAAGe,EAAE4B,CAHN;AAIC,UAAI5B,EAAEC,EAJP;AAKC,SAAGE,CALJ;AAMC,SAAG0C,CANJ;AAOC,mBAAa,qDAAAyH,CAAK,KAAKxB,SAAV,EAAqB,IAArB,EAA2B9I,EAAEC,EAA7B,CAPd;AAQC,qBAAe,qDAAAqK,CAAK,KAAK1B,SAAV,EAAqB,IAArB,EAA2B5I,EAAEC,EAA7B;AARhB,OAHD,CAdF;AA4BC,2EAAM,WAAW,yDAAAJ,CAAM0K,IAAvB,EAA6B,GAAGP,UAAU,KAAKtJ,KAAL,CAAW0J,IAArB,CAAhC;AA5BD;AAlBD;AADD,GADD;AAqDA;AA3H8B;;AA8HhC,MAAMI,SAAS,oFAAAjG,CAAQ3D,UAAU;AAChCwJ,OAAMxJ,MAAMwJ,IADoB;AAEhC5C,QAAO5G,MAAM4G;AAFmB,CAAV,CAAR,EAGXM,OAHW,CAAf;;AAKA,MAAM2C,OAAO,8EAAA9K,CAAK,CAAC,EAAE+K,EAAF,EAAMV,SAAN,EAAD,KAAuB;AACxC,KAAIW,IAAI,GAAR;AACA,KAAIC,SAAS,oDAAAnL,CAAM,CAAN,EAAS,qDAAT,EAAa,qDAAAwB,GAAK0J,CAAlB,EAAqB5K,GAArB,CAAyBd,MAAM;AAC3CA,GAD2C;AAE3C4L,KAAGH,GAAGzL,CAAH,IAAQA;AAFgC,EAAN,CAAzB,CAAb;AAIA,QAAO,sEAAM,GAAG+K,UAAUY,MAAV,CAAT,EAA4B,WAAW,yDAAA/K,CAAM0K,IAA7C,GAAP;AACA,CAPY,CAAb;;AASA,MAAMO,OAAN,SAAsB,oDAAtB,CAAoC;AAAA;AAAA;;AAAA,uCAUnClK,KAVmC,GAU3B;AACPmH,UAAO,GADA;AAEP1D,WAAQ;AAFD,GAV2B,OAenC2D,MAfmC,GAe1B,MAAM;AACd,QAAKlG,QAAL,CACC;AACCiG,WAAO,KAAK7D,GAAL,CAAS+D,WAAT,GAAuB,IAAItF,GADnC;AAEC0B,YAAQ,KAAKH,GAAL,CAASgE,YAAT,GAAwB,IAAIvF;AAFrC,IADD,EAKC,MAAM;AACL,QAAIxC,IAAI,gFAAAgI,CAAK,KAAKvH,KAAL,CAAWmH,KAAhB,CAAR;AACA,QAAIlF,IAAI,iFAAAkI,CAAM,KAAKnK,KAAL,CAAWyD,MAAjB,CAAR;AACAgE,IAAA,oFAAAA,CAAO,KAAKC,IAAZ,EAAkBC,IAAlB,CAAuB,mFAAAC,GAAaC,KAAb,CAAmBtI,CAAnB,CAAvB;AACAkI,IAAA,oFAAAA,CAAO,KAAKK,KAAZ,EAAmBH,IAAnB,CAAwB,iFAAAI,GAAWF,KAAX,CAAiB5F,CAAjB,CAAxB;AACA,IAVF;AAYA,GA5BkC;AAAA;;AACnC+G,wBAAuB;AACtBC,SAAOC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK9B,MAA1C;AACA;;AAEDhF,qBAAoB;AACnB6G,SAAOE,gBAAP,CAAwB,QAAxB,EAAkC,KAAK/B,MAAvC;AACA,OAAKA,MAAL;AACA;;AAsBDnH,UAAS;AACR,QAAM,EAAEkH,KAAF,EAAS1D,MAAT,KAAoB,KAAKzD,KAA/B;AACA,QAAMT,IAAI,gFAAAgI,CAAKJ,KAAL,CAAV;AACA,QAAMlF,IAAI,iFAAAkI,CAAM1G,MAAN,CAAV;AACA,QAAM2F,YAAY,yFAAAgB,CAAc7K,CAAd,EAAiB0C,CAAjB,CAAlB;AACA,SACC;AAAA;AAAA;AACC;AAAA;AAAA,MAAK,KAAK7C,KAAM,KAAKkE,GAAL,GAAWlE,CAA3B,EAA+B,WAAW,yDAAAH,CAAMqE,GAAhD;AACC;AAAA;AAAA,OAAG,WAAY,aAAYvB,GAAI,IAAGA,GAAI,GAAtC;AACC;AAAA;AAAA,QAAG,KAAK3C,KAAM,KAAKsI,IAAL,GAAYtI,CAA1B,EAA8B,WAAY,eAAcqE,MAAO,GAA/D;AACC;AAAA;AAAA,SAAG,WAAY,aAAY0D,QAAQ,CAAE,MAArC;AACC;AAAA;AAAA,UAAM,WAAW,yDAAAlI,CAAMqK,SAAvB;AAAA;AAAA;AADD;AADD,MADD;AAMC;AAAA;AAAA,QAAG,KAAKlK,KAAM,KAAK0I,KAAL,GAAa1I,CAA3B;AACC;AAAA;AAAA,SAAG,WAAY,iBAAgBqE,SAAS,CAAE,eAA1C;AACC;AAAA;AAAA,UAAM,WAAW,yDAAAxE,CAAMqK,SAAvB;AAAA;AAAA;AADD;AADD;AAND,KADD;AAaC;AAAA;AAAA,OAAG,WAAY,aAAYvH,GAAI,IAAGA,GAAI,GAAtC;AACC,2EAAM,WAAW,yDAAA9C,CAAMsK,EAAvB,EAA2B,OAAOpC,KAAlC,EAAyC,QAAQ1D,MAAjD,GADD;AAEC,iEAAC,IAAD,IAAM,IAAI,KAAK3D,KAAL,CAAWgK,EAArB,EAAyB,WAAWV,SAApC;AAFD;AAbD;AADD,GADD;AAsBA;AAzDkC;;AA4DpC,MAAMiB,SAAS,oFAAA1G,CAAQ3D,UAAU;AAChCwJ,OAAMxJ,MAAMwJ,IADoB;AAEhCM,KAAI,iFAAAQ,CAAMtK,KAAN;AAF4B,CAAV,CAAR,EAGXkK,OAHW,CAAf;;AAKA,MAAMK,SAAS,CAAC,EAAE/J,SAAF,EAAD,KACd;AAAA;AAAA,GAAK,WAAW,yDAAAvB,CAAMiB,IAAtB;AACC;AAAA;AAAA,IAAK,WAAW,yDAAAjB,CAAMuL,KAAtB;AACC,8DAAC,MAAD,OADD;AAEC,8DAAC,MAAD;AAFD,EADD;AAKC;AAAA;AAAA,IAAK,OAAO,EAAEC,WAAW,QAAb,EAAZ;AACC;AAAA;AAAA,KAAK,WAAW,4DAAAnK,CAAOC,MAAvB,EAA+B,SAASC,SAAxC;AAAA;AAAA;AADD;AALD,CADD;;AAYA,SAAS2D,YAAT,GAAwB;AACvB,QAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC9B,MAAIzD,OAAO,CAAX;AACA,MAAI0D,SAAS,8EAAA5D,CAAMI,WAAW;AAC7B,OAAIyD,KAAK,CAACzD,UAAUF,IAAX,IAAmB,8DAA5B;AACA,OAAIkJ,KAAK,iFAAAQ,CAAMjG,UAAN,CAAT;AACAD,YAAS,EAAEI,MAAM,MAAR,EAAgBD,EAAhB,EAAoBuF,EAApB,EAAT;AACAlJ,UAAOE,OAAP;AACA,OAAIuD,WAAW5D,MAAf,EAAuB;AACtB6D,WAAO/C,IAAP;AACA;AACD,GARY,CAAb;AASA,EAXD;AAYA;;AAED,SAASf,SAAT,GAAqB;AACpB,QAAO,CAAC4D,QAAD,EAAWC,QAAX,KAAwB;AAC9BD,WAAS,EAAEI,MAAM,WAAR,EAAT;AACApD,EAAA,gFAAAA,CAAQ,MAAM;AACb,OAAI,CAACiD,WAAW5D,MAAhB,EAAwB;AACvB2D,aAASD,cAAT;AACA;AACD,GAJD;AAKA,EAPD;AAQA;;AAED,MAAMuG,QAAQ,oFAAA/G,CAAQ,IAAR,EAAcS,aAAa;AACxC5D,aAAY;AACX4D,WAAS5D,WAAT;AACA;AAHuC,CAAb,CAAd,EAIV+J,MAJU,CAAd;;AAMA,yDAAe,MACd;AAAC,+DAAD;AAAA,GAAU,OAAO3F,KAAjB;AACC,6DAAC,KAAD;AADD,CADD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAM+F,YAAY,EAAlB;AAAA;AAAA;AACA,MAAMzM,YAAY,GAAlB;AAAA;AAAA;AACA,MAAMC,cAAc,GAApB,C;;CAAyB;;AAEzB,MAAMmM,QAAQ,+EAAAM,CAAe,CAAC5K,SAASA,MAAMwJ,IAAhB,CAAf,EAAsCA,QAC1D,oFAAA7K,GAAcC,MAAd,CAAqB4K,KAAKrK,GAAL,CAASC,KAAKA,EAAEf,CAAhB,CAArB,EAAyCQ,KAAzC,CAA+C2K,KAAKrK,GAAL,CAASC,KAAKA,EAAE4B,CAAhB,CAA/C,CADoB,CAAd;AAAA;AAAA;;AAIA,MAAMuG,OAAO,6CAAAsD,CAAM1D,SACzB,oFAAAxI,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAI,sDAAJ,CAArB,EAA8BC,KAA9B,CAAoC,CAAC,CAAD,EAAIsI,KAAJ,CAApC,CADmB,CAAb;AAAA;AAAA;AAGA,MAAMK,OAAO,6CAAAqD,CAAMpH,UACzB,oFAAA9E,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAI,sDAAAkM,GAAK,GAAT,CAArB,EAAoCjM,KAApC,CAA0C,CAAC4E,MAAD,EAAS,CAAT,CAA1C,CADmB,CAAb;AAAA;AAAA;AAGA,MAAMiD,QAAQ,6CAAAmE,CAAMpH,UAC1B,oFAAA9E,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAIT,WAAJ,CAArB,EAAuCU,KAAvC,CAA6C,CAAC,CAAD,EAAI4E,SAAS,GAAb,CAA7C,CADoB,CAAd;AAAA;AAAA;AAGA,MAAM0G,QAAQ,6CAAAU,CAAMpH,UAC1B,oFAAA9E,GAAcC,MAAd,CAAqB,CAAC,CAAD,EAAI,sDAAAN,GAAK,GAAT,CAArB,EAAoCO,KAApC,CAA0C,CAAC4E,MAAD,EAAS,CAAT,CAA1C,CADoB,CAAd;AAAA;AAAA;AAGA,MAAM4F,eAAe,6CAAAwB,CAAM,CAACtL,CAAD,EAAI0C,CAAJ,KACjC,6EAAA0H,GAAOpK,CAAP,CAASH,KAAKG,EAAEH,EAAEf,CAAJ,CAAd,EAAsB4D,CAAtB,CAAwB7C,KAAK6C,EAAE7C,EAAE4B,CAAJ,CAA7B,CAD2B,CAArB;AAAA;AAAA;;AAIA,MAAMoJ,gBAAgB,6CAAAS,CAAM,CAACtL,CAAD,EAAI0C,CAAJ,KAClC,6EAAA0H,GAAOpK,CAAP,CAASH,KAAKG,EAAEH,EAAEf,CAAJ,CAAd,EAAsB4D,CAAtB,CAAwB7C,KAAK6C,EAAE7C,EAAE6K,CAAJ,CAA7B,CAD4B,CAAtB;AAAA;AAAA;;AAIP,MAAMc,aAAa,0FAAAvF,CAClB,CAAC,EAAEnG,IAAI,GAAN,EAAWhB,GAAG,CAAd,EAAiB2C,GAAG,sDAApB,EAAwBiJ,GAAG,CAA3B,EAAD,EAAiC,EAAE5K,IAAI,GAAN,EAAWhB,GAAG,sDAAd,EAAkB2C,GAAG,CAArB,EAAwBiJ,GAAG,CAA3B,EAAjC,CADkB,EAElB;AACCjC,WAAUwB,IAAV,EAAgB,EAAEnK,EAAF,EAAhB,EAAwB;AACvB,SAAO,qDAAA4B,CAAOuI,IAAP,EAAapK,KAAKA,EAAEC,EAAF,KAASA,EAA3B,CAAP;AACA,EAHF;AAIC2L,WAAUxB,IAAV,EAAgB,EAAEnK,EAAF,EAAMhB,CAAN,EAAS2C,CAAT,EAAhB,EAA8B;AAC7B,SAAO,kDAAA7B,CAAIqK,IAAJ,EAAU,CAACpK,CAAD,EAAIsD,CAAJ,KAAU;AAC1B,OAAItD,EAAEC,EAAF,KAASA,EAAb,EAAiB,OAAOD,CAAP;AACjB4B,OAAIK,KAAKC,GAAL,CAASD,KAAK4J,GAAL,CAASzB,KAAK9G,IAAI,CAAT,EAAY1B,CAArB,EAAwBA,CAAxB,CAAT,EAAqCwI,KAAK9G,IAAI,CAAT,EAAY1B,CAAjD,CAAJ;AACA3C,OAAIgD,KAAK4J,GAAL,CAASzB,KAAK9G,IAAI,CAAT,EAAYrE,CAArB,EAAwBgD,KAAKC,GAAL,CAASkI,KAAK9G,IAAI,CAAT,EAAYrE,CAArB,EAAwBA,CAAxB,CAAxB,CAAJ;AACA,UAAO,EAAEgB,IAAID,EAAEC,EAAR,EAAYhB,CAAZ,EAAe2C,CAAf,EAAkBiJ,GAAG5L,IAAI2C,CAAzB,EAAP;AACA,GALM,CAAP;AAMA,EAXF;AAYCkK,QAAO1B,IAAP,EAAa,EAAEnK,EAAF,EAAMhB,CAAN,EAAS2C,CAAT,EAAb,EAA2B;AAC1BwI,SAAOA,KAAK2B,MAAL,CAAY,EAAE9L,EAAF,EAAMhB,CAAN,EAAS2C,CAAT,EAAYiJ,GAAG5L,IAAI2C,CAAnB,EAAZ,EAAoCoK,IAApC,CAAyC,CAACC,CAAD,EAAIC,CAAJ,KAAUD,EAAEhN,CAAF,GAAMiN,EAAEjN,CAA3D,CAAP;AACA,OAAK,IAAIqE,IAAI,CAAb,EAAgBA,IAAI8G,KAAK7G,MAAzB,EAAiCD,GAAjC,EAAsC;AACrC,OAAItD,IAAIoK,KAAK9G,CAAL,CAAR;AACA,OAAItD,EAAEC,EAAF,IAAQA,EAAZ,EAAgB;AACf2B,QAAIK,KAAKC,GAAL,CAASD,KAAK4J,GAAL,CAASzB,KAAK9G,IAAI,CAAT,EAAY1B,CAArB,EAAwBA,CAAxB,CAAT,EAAqCwI,KAAK9G,IAAI,CAAT,EAAY1B,CAAjD,CAAJ;AACA3C,QAAIgD,KAAK4J,GAAL,CAASzB,KAAK9G,IAAI,CAAT,EAAYrE,CAArB,EAAwBgD,KAAKC,GAAL,CAASkI,KAAK9G,IAAI,CAAT,EAAYrE,CAArB,EAAwBA,CAAxB,CAAxB,CAAJ;AACAmL,SAAK9G,CAAL,IAAU,EAAErD,IAAID,EAAEC,EAAR,EAAYhB,CAAZ,EAAe2C,CAAf,EAAkBiJ,GAAG5L,IAAI2C,CAAzB,EAAV;AACA;AACD;AACD,SAAOwI,IAAP;AACA;AAvBF,CAFkB,CAAnB;;AA6BA,MAAMvD,eAAe,0FAAAT,CAAG,IAAH,EAAS;AAC7BhF,YAAWC,UAAU,CAACA;AADO,CAAT,CAArB;;AAIA,SAAS6E,OAAT,CAAiB/F,CAAjB,EAAoB;AACnB,QAAO,EAAEF,IAAI,uDAAAwC,EAAN,EAAkBtC,CAAlB,EAAP;AACA;;AAED,MAAMgM,gBAAgB,oDAAA1M,CAAM,CAAN,EAAS8L,SAAT,EAAoBxL,GAApB,CAAwBuD,KAAK;AAClD,KAAIrE,IAAI,IAAIqE,IAAIiI,SAAJ,GAAgB,sDAA5B;AACA,KAAIhJ,UAAUN,KAAKO,KAAL,CAAWvD,IAAIF,WAAJ,GAAkB,IAA7B,CAAd;AACA,KAAIyH,QAAQzH,cAAcwD,OAA1B;AACA,QAAO;AACNtD,GADM;AAENW,QAAM,oDAAAH,CAAM8C,OAAN,EAAexC,GAAf,CAAmBC,MAAM,EAAEC,IAAI,uDAAAwC,EAAN,EAAkBtC,GAAGH,IAAIwG,KAAzB,EAAN,CAAnB;AAFA,EAAP;AAIA,CARqB,CAAtB;;AAUA,MAAM4F,cAAc,0FAAAhG,CAAG+F,aAAH,EAAkB;AACrC9F,MAAKmB,KAAL,EAAY,EAAErC,EAAF,EAAMuF,EAAN,EAAZ,EAAwB;AACvB,SAAO,kDAAA3K,CAAIyH,KAAJ,EAAW,CAAC,EAAE5H,IAAF,EAAQX,CAAR,EAAD,KAAiB;AAClC,SAAM2C,IAAI8I,GAAGzL,CAAH,CAAV;AACAW,UAAO,kDAAAG,CAAIH,IAAJ,EAAU,CAAC,EAAEK,EAAF,EAAME,CAAN,EAAD,KAAe;AAC/B,WAAO,EAAEF,EAAF,EAAME,GAAG,CAACA,IAAIgF,KAAKvD,CAAV,IAAe7C,WAAxB,EAAP;AACA,IAFM,CAAP;AAGA,UAAO,EAAEa,IAAF,EAAQX,CAAR,EAAP;AACA,GANM,CAAP;AAOA;AAToC,CAAlB,CAApB;;AAYO,MAAM6H,UAAU,qFAAAC,CAAgB;AACtCS,QAAO4E,WAD+B;AAEtChC,OAAMuB,UAFgC;AAGtCtK,SAAQwF;AAH8B,CAAhB,CAAhB;AAAA;AAAA;;AAMP,SAASG,GAAT,CAAaC,SAAb,EAAwBC,SAAxB,EAAmC;AAClC,QAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBH,SAAlB,EAA6BC,SAA7B,CAAP;AACA,C;;;;;;;;AC3GM,MAAMjG,KAAK,GAAX;AAAA;AAAA;AACA,MAAMyK,KAAK,EAAX;AAAA;AAAA;AACA,MAAMW,KAAKpL,KAAK,CAAhB;AAAA;AAAA;AACA,MAAM/B,KAAKmN,KAAKX,EAAhB;AAAA;AAAA;AACA,MAAMvM,IAAID,MAAM+B,KAAKoL,EAAX,CAAV;AAAA;AAAA;AACPC,QAAQC,GAAR,CAAYrN,EAAZ,E;;;;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,wEAAA2B,CAAO,4DAAC,gEAAD,OAAP,EAAgB2L,SAASC,cAAT,CAAwB,MAAxB,CAAhB,E;;;;;;;ACLA;AACA;AACA,mGAAoG;;AAEpG;AACA,+BAAgC,8BAA8B,EAAE,4BAA4B,yCAAyC,cAAc,eAAe,EAAE,8BAA8B,4BAA4B,EAAE,iCAAiC,6CAA6C,sBAAsB,EAAE,+BAA+B,qBAAqB,gBAAgB,8BAA8B,iBAAiB,uBAAuB,aAAa,cAAc,kBAAkB,EAAE,mCAAmC,qBAAqB,EAAE,gCAAgC,qBAAqB,kBAAkB,EAAE;;AAEloB;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACZA;AACA;;;AAGA;AACA,oDAAqD,0BAA0B,4BAA4B,kBAAkB,oHAAoH,EAAE,2BAA2B,kBAAkB,YAAY,YAAY,EAAE,2BAA2B,kBAAkB,wBAAwB,kCAAkC,wBAAwB,EAAE,4BAA4B,kBAAkB,gBAAgB,yBAAyB,EAAE,4BAA4B,kBAAkB,yBAAyB,EAAE,iCAAiC,kBAAkB,YAAY,YAAY,EAAE;;AAE1qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACfA;AACA;;;AAGA;AACA,qDAAsD,kBAAkB,4BAA4B,kBAAkB,0BAA0B,oHAAoH,EAAE,2BAA2B,kBAAkB,EAAE,kCAAkC,wBAAwB,kBAAkB,EAAE,4BAA4B,kBAAkB,YAAY,YAAY,EAAE,6BAA6B,kBAAkB,gBAAgB,yBAAyB,iBAAiB,EAAE,+BAA+B,kBAAkB,8BAA8B,gBAAgB,uBAAuB,0BAA0B,oBAAoB,kBAAkB,uBAAuB,EAAE;;AAErwB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACfA;AACA;;;AAGA;AACA,wDAAyD,4BAA4B,kBAAkB,2BAA2B,oHAAoH,EAAE,oCAAoC,kBAAkB,gBAAgB,kBAAkB,wBAAwB,uBAAuB,EAAE,0CAA0C,YAAY,EAAE,8BAA8B,kBAAkB,EAAE,+BAA+B,gBAAgB,iBAAiB,EAAE,qCAAqC,kBAAkB,yBAAyB,EAAE,0CAA0C,kBAAkB,oBAAoB,gBAAgB,wCAAwC,oBAAoB,EAAE,gDAAgD,gBAAgB,wCAAwC,EAAE,+BAA+B,kBAAkB,YAAY,YAAY,EAAE,gCAAgC,kBAAkB,yBAAyB,EAAE,gCAAgC,eAAe,oBAAoB,sBAAsB,0BAA0B,yBAAyB,EAAE,gCAAgC,kBAAkB,gBAAgB,iBAAiB,EAAE,qCAAqC,oBAAoB,gBAAgB,wBAAwB,gCAAgC,EAAE,wCAAwC,eAAe,sBAAsB,oBAAoB,EAAE;;AAEx+C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACrBA;AACA;;;AAGA;AACA,uDAAwD,kBAAkB,0BAA0B,uBAAuB,2BAA2B,4BAA4B,0BAA0B,oBAAoB,uBAAuB,iBAAiB,uBAAuB,oHAAoH,4BAA4B,wJAAwJ,EAAE,oDAAoD,gBAAgB,EAAE,wCAAwC,kDAAkD,EAAE,qDAAqD,4CAA4C,EAAE,yCAAyC,iDAAiD,uHAAuH,EAAE;;AAEjiC;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"main.js","sourcesContent":["import React from \"react\";\nimport { HashRouter, Route, Link } from \"react-router-dom\";\nimport VkPlot from \"components/VkPlot\";\nimport PDE from \"components/PDE\";\nimport FI from \"components/FI\";\nimport { app, header, content } from \"./styleApp.scss\";\nimport { button } from \"src/styleShared.scss\";\n\nconst Home = () => <div>Welcome to my talk!</div>;\n\nexport default () => (\n\t<HashRouter>\n\t\t<div className={app}>\n\t\t\t<div className={header}>\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<div className={button}>Home</div>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/vk\">\n\t\t\t\t\t<div className={button}>Speed-Density Plot</div>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/pde\">\n\t\t\t\t\t<div className={button}>LWR</div>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/fi\">\n\t\t\t\t\t<div className={button}>Fundamental Identity</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div className={content}>\n\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t<Route path=\"/vk\" component={VkPlot} />\n\t\t\t\t<Route path=\"/pde\" component={PDE} />\n\t\t\t\t<Route path=\"/fi\" component={FI} />\n\t\t\t</div>\n\t\t</div>\n\t</HashRouter>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App/App.js","//@flow\nimport React, { Component, PureComponent } from \"react\";\nimport style from \"./styleFI.scss\";\nimport shared from \"src/styleShared.scss\";\nimport { pure } from \"recompose\";\nimport { scaleLinear } from \"d3-scale\";\nimport uniqueId from \"lodash/uniqueId\";\nimport { timer, timerFlush, timeout, interval } from \"d3-timer\";\nimport range from \"lodash/range\";\nimport map from \"lodash/map\";\nimport { KJ, VF, K0, Q0, W } from \"constants\";\nimport type { DotDatum } from \"src/types\";\nimport { select } from \"d3-selection\";\nconst WIDTH = 1200;\nconst ROAD_WIDTH = 1200;\nconst POOL_WIDTH = 300;\nconst HEIGHT = 20;\nconst KM = 100;\nconst ROAD_HEIGHT = 50;\nconst TIME_UNIT = 50;\n// const\nconst LANE_LENGTH = 1200;\nconst QK = k => {\n\tif (k <= K0) return k * VF;\n\tif (k < KJ) return Q0 - W * (k - K0);\n\treturn 0;\n};\n\nconst VS = s => QK(1000 / s) * s / 3600; //m/s\n\nconst xScale = scaleLinear().domain([0, LANE_LENGTH]).range([0, ROAD_WIDTH]);\n\nconst Road = pure(({ cars }) => (\n\t<g>\n\t\t<rect className={style.lane} width={ROAD_WIDTH} height={ROAD_HEIGHT} />\n\t\t<g>\n\t\t\t{map(cars, d => (\n\t\t\t\t<rect\n\t\t\t\t\twidth=\"3\"\n\t\t\t\t\theight={ROAD_HEIGHT - 4}\n\t\t\t\t\tx=\"-4\"\n\t\t\t\t\ty=\"2\"\n\t\t\t\t\tkey={d.id}\n\t\t\t\t\tclassName={style.car}\n\t\t\t\t\ttransform={`translate(${xScale(d.x)},0)`}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</g>\n\t</g>\n));\n\nconst Pool = pure(({ poolSize }) => {\n\treturn (\n\t\t<g transform={`translate(${ROAD_WIDTH},0)`}>\n\t\t\t<rect className={style.pool} width={POOL_WIDTH} height={ROAD_HEIGHT} />\n\t\t\t<g>\n\t\t\t\t{range(0, poolSize).map(d => (\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx={d * 8}\n\t\t\t\t\t\ty=\"2\"\n\t\t\t\t\t\tclassName={style.carExited}\n\t\t\t\t\t\twidth=\"3\"\n\t\t\t\t\t\theight={ROAD_HEIGHT - 4}\n\t\t\t\t\t\tkey={d}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</g>\n\t\t</g>\n\t);\n});\n\nclass FI extends PureComponent {\n\ttimer = null;\n\n\tstartTimer = () => {\n\t\tlet last = 0;\n\t\tlet z = 0;\n\t\tthis.timer = timer(elapsed => {\n\t\t\tconst Î´ = (elapsed - last) / TIME_UNIT;\n\t\t\tlast = elapsed;\n\t\t\tlet v = VS(1000 / this.state.k);\n\t\t\tlet cars = this.state.cars.filter(d => d.x < LANE_LENGTH);\n\t\t\tthis.setState(({ cars, poolSize }) => {\n\t\t\t\tcars = map(cars, d => {\n\t\t\t\t\tlet newX = d.x + Î´ * v;\n\n\t\t\t\t\tif (newX > LANE_LENGTH) {\n\t\t\t\t\t\tnewX -= LANE_LENGTH;\n\t\t\t\t\t\tpoolSize = poolSize + 1;\n\t\t\t\t\t\ttimeout(() => {\n\t\t\t\t\t\t\tthis.setState(({ poolSize }) => ({\n\t\t\t\t\t\t\t\tpoolSize: Math.max(poolSize - 1, 0)\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: d.id,\n\t\t\t\t\t\tx: (d.x + Î´ * v) % LANE_LENGTH\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\tcars,\n\t\t\t\t\tpoolSize\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t};\n\tpausePlay = () => {\n\t\tif (this.timer) {\n\t\t\tthis.timer.stop();\n\t\t\tthis.timer = null;\n\t\t} else {\n\t\t\tthis.startTimer();\n\t\t}\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet k = 8;\n\t\tlet cars = createCars(k);\n\t\tthis.state = {\n\t\t\tk,\n\t\t\tcars,\n\t\t\tpoolSize: 0\n\t\t};\n\t}\n\tonChange = e => {\n\t\tlet k = +e.target.value;\n\t\tthis.setState({\n\t\t\tk,\n\t\t\tcars: createCars(k)\n\t\t});\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div className={style.main}>\n\t\t\t\t<div className={style.row}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Density (veh/km)</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\tvalue={this.state.k}\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tstep=\"0.5\"\n\t\t\t\t\t\t\tmax={KJ}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={shared.button} onClick={this.pausePlay}>\n\t\t\t\t\t\t{this.state.paused ? \"PLAY\" : \"PAUSE\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<svg width={ROAD_WIDTH + POOL_WIDTH} height={ROAD_HEIGHT}>\n\t\t\t\t\t<Road cars={this.state.cars} />\n\t\t\t\t\t<Pool poolSize={this.state.poolSize} />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction createCars(k: number): Array<{ id: string, x: number }> {\n\t// let space = 1000 / k;\n\tlet numCars = Math.floor(LANE_LENGTH / 1000 * k);\n\treturn range(0, LANE_LENGTH / 1000 * k).map(d => ({\n\t\tid: uniqueId(),\n\t\tx: d * LANE_LENGTH / numCars\n\t}));\n}\n\nconst App = () => <FI />;\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FI/FI.js","import React, { Component, PureComponent } from \"react\";\nimport { timer, interval, timeout } from \"d3-timer\";\nimport { KJ, VF, Q0 } from \"constants\";\nimport style from \"./stylePde.scss\";\nimport shared from \"src/styleShared.scss\";\nimport { Provider, connect } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport {\n\treducer,\n\tTIME_UNIT,\n\tWIDTH,\n\tcolorScale,\n\txScale,\n\tHEIGHT,\n\tCANVAS_HEIGHT\n} from \"./pdeHelpers\";\nimport map from \"lodash/map\";\nimport uniqueId from \"lodash/uniqueId\";\nimport thunk from \"redux-thunk\";\n\nconst ROAD_HEIGHT = 40, MAR = 0;\n\nfunction trans(x, y) {\n\treturn `translate(${x},${y})`;\n}\nlet J = 0;\n\nclass Canvas extends Component {\n\tcomponentDidMount() {\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\n\t}\n\tcomponentDidUpdate() {\n\t\tlet { cars } = this.props;\n\t\tJ += 0.4;\n\t\tcars.forEach((d, i) => {\n\t\t\tif (i == 0 || i == cars.length - 1) return;\n\t\t\tlet x = xScale((d.x + cars[i - 1].x) / 2);\n\t\t\tlet gap = (cars[i + 1].x - cars[i - 1].x) / 2;\n\t\t\tlet w = xScale(gap);\n\t\t\tthis.ctx.fillStyle = colorScale(gap);\n\t\t\tthis.ctx.fillRect(x, CANVAS_HEIGHT - J, w, .5);\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform: `translateY(${J - CANVAS_HEIGHT}px)`,\n\t\t\t\t\tposition: \"relative\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<canvas\n\t\t\t\t\tclassName={style.canvas}\n\t\t\t\t\twidth={WIDTH}\n\t\t\t\t\theight={CANVAS_HEIGHT}\n\t\t\t\t\tref={d => (this.canvas = d)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Svg$ extends Component {\n\trender() {\n\t\tlet { cars } = this.props;\n\t\tlet carHeight = ROAD_HEIGHT - 6;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<svg\n\t\t\t\t\tref={d => (this.svg = d)}\n\t\t\t\t\tclassName={style.svg}\n\t\t\t\t\theight={ROAD_HEIGHT}\n\t\t\t\t\twidth={WIDTH}\n\t\t\t\t>\n\t\t\t\t\t<rect className={style.road} height={ROAD_HEIGHT} width={WIDTH} />\n\t\t\t\t\t{cars.map(({ id, x }) => (\n\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\twidth=\"3\"\n\t\t\t\t\t\t\tx=\"-1.25\"\n\t\t\t\t\t\t\theight={carHeight}\n\t\t\t\t\t\t\tclassName={style.car}\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\ttransform={trans(xScale(x), 2)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</svg>\n\t\t\t\t<div style={{ overflowY: \"scroll\", height: \"400px\" }}>\n\t\t\t\t\t<Canvas cars={cars} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst Svg = connect(state => ({\n\tcars: state.cars\n}))(Svg$);\n\nconst Pde$ = ({ pausePlay, toggleBneck, paused, bneckEnabled }) => (\n\t<div className={style.plot}>\n\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t<div className={style.buttonRow}>\n\t\t\t\t<div className={shared.button} onClick={pausePlay}>\n\t\t\t\t\t{paused ? \"PLAY\" : \"PAUSE\"}\n\t\t\t\t</div>\n\t\t\t\t<div className={shared.button} onClick={toggleBneck}>\n\t\t\t\t\t{bneckEnabled ? \"DISABLE BOTTLENECK\" : \"ENABLE BOTTLENECK\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Svg />\n\t\t</div>\n\t</div>\n);\n\nfunction startPlaying() {\n\treturn (dispatch, getState) => {\n\t\tlet last = 0;\n\t\tlet ticker = timer(elapsed => {\n\t\t\tlet dt = (elapsed - last) / TIME_UNIT;\n\t\t\tlet state = getState();\n\t\t\tif (state.paused) {\n\t\t\t\treturn ticker.stop();\n\t\t\t}\n\t\t\tdispatch({ type: \"tick\", dt, bneckEnabled: state.bneckEnabled });\n\t\t\tlast = elapsed;\n\t\t});\n\t\tlet adder = interval(() => {\n\t\t\tdispatch({ type: \"add\" });\n\t\t\tif (getState().paused) {\n\t\t\t\tadder.stop();\n\t\t\t}\n\t\t}, 3600 / Q0 * TIME_UNIT);\n\t};\n}\n\nfunction pausePlay() {\n\treturn (dispatch, getState) => {\n\t\tdispatch({ type: \"pausePlay\" });\n\t\ttimeout(() => {\n\t\t\tif (!getState().paused) {\n\t\t\t\tdispatch(startPlaying());\n\t\t\t}\n\t\t});\n\t};\n}\n\nconst Pde = connect(\n\t({ paused, bneckEnabled }) => ({ paused, bneckEnabled }),\n\tdispatch => ({\n\t\tpausePlay() {\n\t\t\tdispatch(pausePlay());\n\t\t},\n\t\ttoggleBneck() {\n\t\t\tdispatch({ type: \"toggleBneck\" });\n\t\t}\n\t})\n)(Pde$);\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default () => (\n\t<Provider store={store}>\n\t\t<Pde />\n\t</Provider>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/PDE/pde.js","import { createReducer as CR } from \"redux-create-reducer\";\nimport { combineReducers } from \"redux\";\nimport { scaleLinear, scaleSqrt } from \"d3-scale\";\nimport { createSelector } from \"reselect\";\nimport map from \"lodash/map\";\nimport uniqueId from \"lodash/uniqueId\";\nimport { KJ, VF, K0, Q0, W } from \"constants\";\nimport range from \"lodash/range\";\nimport { interpolateHcl, interpolateHslLong } from \"d3-interpolate\";\nimport colors from \"material-colors\";\nexport const CANVAS_HEIGHT = 1e4;\nconst LANE_LENGTH = 4000;\nexport const WIDTH = 1200;\n// export const HEIGHT = 900;\nconst B0 = LANE_LENGTH * 0.5;\nconst B1 = LANE_LENGTH * 0.7;\nexport const TIME_UNIT = 30;\nexport const colorScale = scaleLinear()\n\t.domain([1000 / KJ - 4, 1000 / K0 + 40])\n\t.interpolate(interpolateHslLong)\n\t.range([colors.deepPurple[\"a700\"], colors.yellow[\"a200\"]])\n\t.clamp(true);\n\nconst QK = k => {\n\tif (k <= K0) return k * VF;\n\tif (k < KJ) return Q0 - W * (k - K0);\n\treturn 0;\n};\n\nconst VS = s => QK(1000 / s) * s / 3600; //m/s\n\nexport const xScale = scaleLinear().domain([0, LANE_LENGTH]).range([0, WIDTH]);\n\nfunction makeCar(x, v) {\n\treturn { id: uniqueId(), x, v };\n}\n\nconst carsReduce = CR(range(0, 150).map(d => makeCar(d * 1000 / K0, VF)), {\n\ttick(cars, { dt, bneckEnabled }) {\n\t\tlet l = cars.length - 1;\n\t\tlet res = [];\n\n\t\tfor (var i = 0; i <= l; i++) {\n\t\t\tlet { x, id } = cars[i];\n\t\t\tlet space = i < l ? cars[i + 1].x - x : x - cars[i - 1].x;\n\t\t\tlet v = !bneckEnabled || x < B0 || x > B1 ? VS(space) : VS(space) / 2.5;\n\t\t\tif (x <= LANE_LENGTH) res.push({ id, x: x + dt * v });\n\t\t}\n\t\treturn res;\n\t},\n\tadd(cars) {\n\t\tif (cars[0] && cars[0].x < 1000 / KJ) return cars;\n\t\tlet s = cars[0].x;\n\t\tlet v = VS(s);\n\t\treturn [makeCar(0, v), ...cars];\n\t}\n});\n\nconst bneckEnabledReduce = CR(false, {\n\ttoggleBneck(enabled) {\n\t\treturn !enabled;\n\t}\n});\n\nconst pausedReduce = CR(true, {\n\tpausePlay(paused) {\n\t\treturn !paused;\n\t}\n});\n\nexport const reducer = combineReducers({\n\tcars: carsReduce,\n\tpaused: pausedReduce,\n\tbneckEnabled: bneckEnabledReduce\n});\n\nfunction upo(oldObject, newValues) {\n\treturn Object.assign({}, oldObject, newValues);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/PDE/pdeHelpers.js","//@flow\nimport React, { Component, PureComponent } from \"react\";\nimport style from \"./styleVkPlot.scss\";\nimport shared from \"src/styleShared.scss\";\nimport { pure } from \"recompose\";\nimport { scaleLinear } from \"d3-scale\";\n// import QkPlot from \"components/QkPlot\";\nimport { timer, interval, timeout } from \"d3-timer\";\nimport { KJ, VF, Q0 } from \"constants\";\nimport uniqueId from \"lodash/uniqueId\";\nimport range from \"lodash/range\";\nimport moize from \"moize\";\nimport type { DotDatum } from \"src/types\";\nimport { axisLeft, axisBottom, axisTop } from \"d3-axis\";\nimport { select } from \"d3-selection\";\nimport bind from \"memoize-bind\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { connect, Provider } from \"react-redux\";\nimport {\n\treducer,\n\tgetX,\n\tgetPathMaker,\n\tgetPathMaker2,\n\tgetY,\n\tgetVk,\n\tgetY2,\n\tgetY3,\n\tTIME_UNIT\n} from \"./vkHelpers\";\nconst MAR = 55;\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nconst Lane = pure(({ height, k, x, cars }) => {\n\tlet y = getY2(height);\n\treturn (\n\t\t<g className={style.lane} transform={`translate(${x(k)},0)`}>\n\t\t\t<rect className={style.road} height={height} width=\"8\" />\n\t\t\t{cars.map(d => (\n\t\t\t\t<rect\n\t\t\t\t\tkey={d.id}\n\t\t\t\t\tx=\"2\"\n\t\t\t\t\ty=\"-10\"\n\t\t\t\t\twidth=\"4\"\n\t\t\t\t\theight=\"10\"\n\t\t\t\t\tclassName={style.car}\n\t\t\t\t\ttransform={`translate(0,${y(d.x)})`}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</g>\n\t);\n});\n\nconst Lanes = connect((state, props) => ({\n\tlanes: state.lanes,\n\theight: props.height,\n\tx: props.x\n}))(({ lanes, height, x }) => {\n\treturn (\n\t\t<g>\n\t\t\t{lanes.map(lane => (\n\t\t\t\t<Lane k={lane.k} height={height} x={x} cars={lane.cars} key={lane.k} />\n\t\t\t))}\n\t\t</g>\n\t);\n});\n\nconst Dot = pure(({ onMouseDown, onContextMenu, k, v, x, y }) => (\n\t<g\n\t\tonMouseDown={onMouseDown}\n\t\tonContextMenu={onContextMenu}\n\t\ttransform={`translate(${x(k)},${y(v)})`}\n\t>\n\t\t<circle r=\"13\" className={style.selector} />\n\t\t<circle r=\"5\" className={style.dot} />\n\t</g>\n));\n\nclass VkPlot$ extends Component {\n\tstate = {\n\t\twidth: 500,\n\t\theight: 500\n\t};\n\tresize = () => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\twidth: this.svg.clientWidth - 2 * MAR,\n\t\t\t\theight: this.svg.clientHeight - 2 * MAR\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tlet x = getX(this.state.width);\n\t\t\t\tlet y = getY(this.state.height);\n\t\t\t\tselect(this.gTop).call(axisBottom().scale(x));\n\t\t\t\tselect(this.gLeft).call(axisLeft().scale(y));\n\t\t\t}\n\t\t);\n\t};\n\n\tdeleteDot = (id: string, e: MouseEvent) => {\n\t\te.preventDefault(), this.props.dispatch({ type: \"deleteDot\", id });\n\t};\n\n\tselectDot = (id: string) => {\n\t\tthis.isDragging = true;\n\t\tthis.selected = id;\n\t};\n\n\tonMouseUp = () => {\n\t\tthis.isDragging = false;\n\t};\n\n\tonClick = (e: MouseEvent) => {\n\t\tlet { k, v } = this.getKV(e);\n\t\tthis.isDragging = true;\n\t\tthis.selected = uniqueId();\n\t\tthis.props.dispatch({ type: \"addDot\", id: this.selected, k, v });\n\t};\n\n\tonMouseMove = (e: MouseEvent) => {\n\t\tif (!this.isDragging) return;\n\t\tlet { k, v } = this.getKV(e);\n\t\tthis.props.dispatch({ type: \"updateDot\", id: this.selected, k, v });\n\t};\n\n\tgetKV = (e: MouseEvent) => {\n\t\tlet { left, top } = this.rect.getBoundingClientRect();\n\t\tlet x = getX(this.state.width);\n\t\tlet y = getY(this.state.height);\n\t\treturn {\n\t\t\tk: x.invert(e.clientX - left),\n\t\t\tv: y.invert(e.clientY - top)\n\t\t};\n\t};\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"resize\", this.resize);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.resize);\n\t\tthis.resize();\n\t}\n\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\tconst x = getX(width);\n\t\tconst y = getY(height);\n\t\tconst pathMaker = getPathMaker(x, y);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<svg ref={d => (this.svg = d)} className={style.svg}>\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"hello\">\n\t\t\t\t\t\t\t<rect width={width} height={height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${MAR},${MAR})`}>\n\t\t\t\t\t\t<g ref={d => (this.gTop = d)} transform={`translate(0,${height})`}>\n\t\t\t\t\t\t\t<g transform={`translate(${width / 2},35)`}>\n\t\t\t\t\t\t\t\t<text className={style.axisLabel}>density (veh/km)</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g ref={d => (this.gLeft = d)}>\n\t\t\t\t\t\t\t<g transform={`translate(-40,${height / 2}) rotate(-90)`}>\n\t\t\t\t\t\t\t\t<text className={style.axisLabel}>speed (km/hr)</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t\t<g\n\t\t\t\t\t\tclipPath=\"url(#hello)\"\n\t\t\t\t\t\tonMouseUp={this.onMouseUp}\n\t\t\t\t\t\tonMouseMove={this.onMouseMove}\n\t\t\t\t\t\ttransform={`translate(${MAR},${MAR})`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\tonMouseDown={this.onClick}\n\t\t\t\t\t\t\tclassName={style.bg}\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\tref={d => (this.rect = d)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Lanes x={x} height={height} />\n\t\t\t\t\t\t{this.props.dots\n\t\t\t\t\t\t\t.slice(1, this.props.dots.length - 1)\n\t\t\t\t\t\t\t.map((d, i) => (\n\t\t\t\t\t\t\t\t<Dot\n\t\t\t\t\t\t\t\t\tkey={d.id}\n\t\t\t\t\t\t\t\t\tk={d.k}\n\t\t\t\t\t\t\t\t\tv={d.v}\n\t\t\t\t\t\t\t\t\tid={d.id}\n\t\t\t\t\t\t\t\t\tx={x}\n\t\t\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\t\t\tonMouseDown={bind(this.selectDot, this, d.id)}\n\t\t\t\t\t\t\t\t\tonContextMenu={bind(this.deleteDot, this, d.id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t<path className={style.line} d={pathMaker(this.props.dots)} />\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst VkPlot = connect(state => ({\n\tdots: state.dots,\n\tlanes: state.lanes\n}))(VkPlot$);\n\nconst Path = pure(({ vk, pathMaker }) => {\n\tlet n = 100;\n\tlet points = range(0, KJ, KJ / n).map(k => ({\n\t\tk,\n\t\tq: vk(k) * k\n\t}));\n\treturn <path d={pathMaker(points)} className={style.line} />;\n});\n\nclass QkPlot$ extends PureComponent {\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"resize\", this.resize);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.resize);\n\t\tthis.resize();\n\t}\n\n\tstate = {\n\t\twidth: 500,\n\t\theight: 500\n\t};\n\n\tresize = () => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\twidth: this.svg.clientWidth - 2 * MAR,\n\t\t\t\theight: this.svg.clientHeight - 2 * MAR\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tlet x = getX(this.state.width);\n\t\t\t\tlet y = getY3(this.state.height);\n\t\t\t\tselect(this.gTop).call(axisBottom().scale(x));\n\t\t\t\tselect(this.gLeft).call(axisLeft().scale(y));\n\t\t\t}\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\tconst x = getX(width);\n\t\tconst y = getY3(height);\n\t\tconst pathMaker = getPathMaker2(x, y);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<svg ref={d => (this.svg = d)} className={style.svg}>\n\t\t\t\t\t<g transform={`translate(${MAR},${MAR})`}>\n\t\t\t\t\t\t<g ref={d => (this.gTop = d)} transform={`translate(0,${height})`}>\n\t\t\t\t\t\t\t<g transform={`translate(${width / 2},35)`}>\n\t\t\t\t\t\t\t\t<text className={style.axisLabel}>density (veh/km)</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g ref={d => (this.gLeft = d)}>\n\t\t\t\t\t\t\t<g transform={`translate(-48,${height / 2}) rotate(-90)`}>\n\t\t\t\t\t\t\t\t<text className={style.axisLabel}>flow (veh/hr)</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t\t<g transform={`translate(${MAR},${MAR})`}>\n\t\t\t\t\t\t<rect className={style.bg} width={width} height={height} />\n\t\t\t\t\t\t<Path vk={this.props.vk} pathMaker={pathMaker} />\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst QkPlot = connect(state => ({\n\tdots: state.dots,\n\tvk: getVk(state)\n}))(QkPlot$);\n\nconst $Plots = ({ pausePlay }) => (\n\t<div className={style.main}>\n\t\t<div className={style.plots}>\n\t\t\t<VkPlot />\n\t\t\t<QkPlot />\n\t\t</div>\n\t\t<div style={{ textAlign: \"center\" }}>\n\t\t\t<div className={shared.button} onClick={pausePlay}>TOGGLE</div>\n\t\t</div>\n\t</div>\n);\n\nfunction startPlaying() {\n\treturn (dispatch, getState) => {\n\t\tlet last = 0;\n\t\tlet ticker = timer(elapsed => {\n\t\t\tlet dt = (elapsed - last) / TIME_UNIT;\n\t\t\tlet vk = getVk(getState());\n\t\t\tdispatch({ type: \"tick\", dt, vk });\n\t\t\tlast = elapsed;\n\t\t\tif (getState().paused) {\n\t\t\t\tticker.stop();\n\t\t\t}\n\t\t});\n\t};\n}\n\nfunction pausePlay() {\n\treturn (dispatch, getState) => {\n\t\tdispatch({ type: \"pausePlay\" });\n\t\ttimeout(() => {\n\t\t\tif (!getState().paused) {\n\t\t\t\tdispatch(startPlaying());\n\t\t\t}\n\t\t});\n\t};\n}\n\nconst Plots = connect(null, dispatch => ({\n\tpausePlay() {\n\t\tdispatch(pausePlay());\n\t}\n}))($Plots);\n\nexport default () => (\n\t<Provider store={store}>\n\t\t<Plots />\n\t</Provider>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/VkPlot/VkPlot.js","import { createReducer as CR } from \"redux-create-reducer\";\nimport { combineReducers } from \"redux\";\nimport { scaleLinear } from \"d3-scale\";\nimport { createSelector } from \"reselect\";\nimport map from \"lodash/map\";\nimport filter from \"lodash/filter\";\nimport uniqueId from \"lodash/uniqueId\";\nimport range from \"lodash/range\";\nimport moize from \"moize\";\nimport { line } from \"d3-shape\";\nimport { KJ, VF, K0, Q0, W } from \"constants\";\n\nexport const NUM_LANES = 12;\nexport const TIME_UNIT = 200;\nexport const LANE_LENGTH = 200; //meters\n\nexport const getVk = createSelector([state => state.dots], dots =>\n\tscaleLinear().domain(dots.map(d => d.k)).range(dots.map(d => d.v))\n);\n\nexport const getX = moize(width =>\n\tscaleLinear().domain([0, KJ]).range([0, width])\n);\nexport const getY = moize(height =>\n\tscaleLinear().domain([0, VF * 1.1]).range([height, 0])\n);\nexport const getY2 = moize(height =>\n\tscaleLinear().domain([0, LANE_LENGTH]).range([0, height * 1.2])\n);\nexport const getY3 = moize(height =>\n\tscaleLinear().domain([0, Q0 * 1.1]).range([height, 0])\n);\nexport const getPathMaker = moize((x, y) =>\n\tline().x(d => x(d.k)).y(d => y(d.v))\n);\n\nexport const getPathMaker2 = moize((x, y) =>\n\tline().x(d => x(d.k)).y(d => y(d.q))\n);\n\nconst dotsReduce = CR(\n\t[{ id: \"a\", k: 0, v: VF, q: 0 }, { id: \"b\", k: KJ, v: 0, q: 0 }],\n\t{\n\t\tdeleteDot(dots, { id }) {\n\t\t\treturn filter(dots, d => d.id !== id);\n\t\t},\n\t\tupdateDot(dots, { id, k, v }) {\n\t\t\treturn map(dots, (d, i) => {\n\t\t\t\tif (d.id !== id) return d;\n\t\t\t\tv = Math.max(Math.min(dots[i - 1].v, v), dots[i + 1].v);\n\t\t\t\tk = Math.min(dots[i + 1].k, Math.max(dots[i - 1].k, k));\n\t\t\t\treturn { id: d.id, k, v, q: k * v };\n\t\t\t});\n\t\t},\n\t\taddDot(dots, { id, k, v }) {\n\t\t\tdots = dots.concat({ id, k, v, q: k * v }).sort((a, b) => a.k - b.k);\n\t\t\tfor (var i = 0; i < dots.length; i++) {\n\t\t\t\tlet d = dots[i];\n\t\t\t\tif (d.id == id) {\n\t\t\t\t\tv = Math.max(Math.min(dots[i - 1].v, v), dots[i + 1].v);\n\t\t\t\t\tk = Math.min(dots[i + 1].k, Math.max(dots[i - 1].k, k));\n\t\t\t\t\tdots[i] = { id: d.id, k, v, q: k * v };\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dots;\n\t\t}\n\t}\n);\n\nconst pausedReduce = CR(true, {\n\tpausePlay: paused => !paused\n});\n\nfunction makeCar(x) {\n\treturn { id: uniqueId(), x };\n}\n\nconst LANES_INITIAL = range(0, NUM_LANES).map(i => {\n\tlet k = 5 + i / NUM_LANES * KJ;\n\tlet numCars = Math.floor(k * LANE_LENGTH / 1000);\n\tlet space = LANE_LENGTH / numCars;\n\treturn {\n\t\tk,\n\t\tcars: range(numCars).map(d => ({ id: uniqueId(), x: d * space }))\n\t};\n});\n\nconst lanesReduce = CR(LANES_INITIAL, {\n\ttick(lanes, { dt, vk }) {\n\t\treturn map(lanes, ({ cars, k }) => {\n\t\t\tconst v = vk(k);\n\t\t\tcars = map(cars, ({ id, x }) => {\n\t\t\t\treturn { id, x: (x + dt * v) % LANE_LENGTH };\n\t\t\t});\n\t\t\treturn { cars, k };\n\t\t});\n\t}\n});\n\nexport const reducer = combineReducers({\n\tlanes: lanesReduce,\n\tdots: dotsReduce,\n\tpaused: pausedReduce\n});\n\nfunction upo(oldObject, newValues) {\n\treturn Object.assign({}, oldObject, newValues);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/VkPlot/vkHelpers.js","export const KJ = 120;\nexport const VF = 45;\nexport const K0 = KJ / 4;\nexport const Q0 = K0 * VF;\nexport const W = Q0 / (KJ - K0);\nconsole.log(Q0);\n\n\n// WEBPACK FOOTER //\n// ./src/constants/constants.js","//@flow\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./components/App\";\n\nrender(<App />, document.getElementById(\"root\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Neuton|Work+Sans:400);\", \"\"]);\n\n// module\nexports.push([module.id, \"body {\\n  background-color: #eeeeee; }\\n\\n.styleApp__app___1Qa5Q {\\n  font-family: 'Work Sans', sans-serif;\\n  margin: 0;\\n  padding: 0; }\\n  .styleApp__app___1Qa5Q a {\\n    text-decoration: none; }\\n  .styleApp__app___1Qa5Q text {\\n    font-family: \\\"Work Sans\\\", sans-serif;\\n    font-size: 14px; }\\n\\n.styleApp__header___YDqwz {\\n  padding: 8px 0px;\\n  width: 100%;\\n  background-color: #0091ea;\\n  color: white;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  display: flex; }\\n\\n.styleApp__header___YDqwz > * {\\n  margin: 0px 10px; }\\n\\n.styleApp__content___127ZB {\\n  margin-top: 60px;\\n  padding: 15px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"app\": \"styleApp__app___1Qa5Q\",\n\t\"header\": \"styleApp__header___YDqwz\",\n\t\"content\": \"styleApp__content___127ZB\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!./~/sass-loader/lib/loader.js!./src/components/App/styleApp.scss\n// module id = 275\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"div.styleFI__main___1BcC8 {\\n  display: inline-block;\\n  background-color: white;\\n  padding: 40px;\\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\\n\\n.styleFI__car___2oCWN {\\n  fill: #03a9f4;\\n  rx: 1px;\\n  ry: 1px; }\\n\\n.styleFI__row___35Zie {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  margin-bottom: 20px; }\\n\\n.styleFI__lane___2QtRt {\\n  fill: #b0bec5;\\n  opacity: .7;\\n  pointer-events: none; }\\n\\n.styleFI__pool___26DqO {\\n  fill: #e0e0e0;\\n  pointer-events: none; }\\n\\n.styleFI__carExited___2kMc4 {\\n  fill: #e91e63;\\n  rx: 1px;\\n  ry: 1px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"main\": \"styleFI__main___1BcC8\",\n\t\"car\": \"styleFI__car___2oCWN\",\n\t\"row\": \"styleFI__row___35Zie\",\n\t\"lane\": \"styleFI__lane___2QtRt\",\n\t\"pool\": \"styleFI__pool___26DqO\",\n\t\"carExited\": \"styleFI__carExited___2kMc4\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!./~/sass-loader/lib/loader.js!./src/components/FI/styleFI.scss\n// module id = 276\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"div.stylePde__plot___8yRlm {\\n  height: 800px;\\n  background-color: white;\\n  padding: 20px;\\n  display: inline-block;\\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\\n\\n.stylePde__bg___3Cdnl {\\n  fill: #f5f5f5; }\\n\\n.stylePde__buttonRow___2B3vm {\\n  margin-bottom: 10px;\\n  display: flex; }\\n\\n.stylePde__car___gwQfz {\\n  fill: #0288d1;\\n  rx: 1px;\\n  ry: 1px; }\\n\\n.stylePde__road___30qU4 {\\n  fill: #cfd8dc;\\n  opacity: .7;\\n  pointer-events: none;\\n  stroke: none; }\\n\\n.stylePde__button___xhhjU {\\n  padding: 14px;\\n  background-color: #f5f5f5;\\n  width: auto;\\n  position: relative;\\n  display: inline-block;\\n  cursor: pointer;\\n  outline: none;\\n  text-align: center; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"plot\": \"stylePde__plot___8yRlm\",\n\t\"bg\": \"stylePde__bg___3Cdnl\",\n\t\"buttonRow\": \"stylePde__buttonRow___2B3vm\",\n\t\"car\": \"stylePde__car___gwQfz\",\n\t\"road\": \"stylePde__road___30qU4\",\n\t\"button\": \"stylePde__button___xhhjU\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!./~/sass-loader/lib/loader.js!./src/components/PDE/stylePde.scss\n// module id = 277\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"div.styleVkPlot__main___18K97 {\\n  background-color: white;\\n  padding: 30px;\\n  box-sizing: border-box;\\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\\n\\ndiv.styleVkPlot__plots___1Pibq {\\n  height: 500px;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  position: relative; }\\n\\ndiv.styleVkPlot__plots___1Pibq > div {\\n  flex: 1; }\\n\\n.styleVkPlot__bg___s483E {\\n  fill: #f5f5f5; }\\n\\n.styleVkPlot__svg___39HJy {\\n  width: 100%;\\n  height: 100%; }\\n\\ncircle.styleVkPlot__dot___2R1oG {\\n  fill: #ad1457;\\n  pointer-events: none; }\\n\\ncircle.styleVkPlot__selector___1vCzB {\\n  fill: #ffffff;\\n  stroke: #ffffff;\\n  opacity: .1;\\n  transition: opacity .3s ease-in-out;\\n  cursor: pointer; }\\n\\ncircle.styleVkPlot__selector___1vCzB:hover {\\n  opacity: .9;\\n  transition: opacity .3s ease-in-out; }\\n\\n.styleVkPlot__car___2T16- {\\n  fill: #03a9f4;\\n  rx: 1px;\\n  ry: 1px; }\\n\\n.styleVkPlot__lane___102VD {\\n  fill: #e0e0e0;\\n  pointer-events: none; }\\n\\n.styleVkPlot__line___1EUpA {\\n  fill: none;\\n  stroke: #ad1457;\\n  stroke-width: 4px;\\n  stroke-linecap: round;\\n  pointer-events: none; }\\n\\n.styleVkPlot__road___3b9Ci {\\n  fill: #cfd8dc;\\n  opacity: .7;\\n  stroke: none; }\\n\\n.styleVkPlot__axisLabel___2Vfqy {\\n  font-size: 15px;\\n  fill: black;\\n  text-anchor: middle;\\n  alignment-baseline: central; }\\n\\ncircle.styleVkPlot__signal___1VHqV {\\n  fill: none;\\n  stroke-width: 1px;\\n  stroke: #e91e63; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"main\": \"styleVkPlot__main___18K97\",\n\t\"plots\": \"styleVkPlot__plots___1Pibq\",\n\t\"bg\": \"styleVkPlot__bg___s483E\",\n\t\"svg\": \"styleVkPlot__svg___39HJy\",\n\t\"dot\": \"styleVkPlot__dot___2R1oG\",\n\t\"selector\": \"styleVkPlot__selector___1vCzB\",\n\t\"car\": \"styleVkPlot__car___2T16-\",\n\t\"lane\": \"styleVkPlot__lane___102VD\",\n\t\"line\": \"styleVkPlot__line___1EUpA\",\n\t\"road\": \"styleVkPlot__road___3b9Ci\",\n\t\"axisLabel\": \"styleVkPlot__axisLabel___2Vfqy\",\n\t\"signal\": \"styleVkPlot__signal___1VHqV\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!./~/sass-loader/lib/loader.js!./src/components/VkPlot/styleVkPlot.scss\n// module id = 278\n// module chunks = 1","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".styleShared__button___3bqt- {\\n  padding: 15px;\\n  display: inline-block;\\n  text-align: center;\\n  vertical-align: middle;\\n  background-color: white;\\n  text-decoration: none;\\n  cursor: pointer;\\n  border-radius: 2px;\\n  color: black;\\n  border-radius: 2px;\\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\\n  will-change: box-shadow;\\n  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s cubic-bezier(0.4, 0, 0.2, 1); }\\n  .styleShared__button___3bqt-::-moz-focus-inner {\\n    border: 0; }\\n  .styleShared__button___3bqt-:hover {\\n    background-color: rgba(255, 255, 255, 0.95); }\\n  .styleShared__button___3bqt-:focus:not(:active) {\\n    background-color: rgba(0, 0, 0, 0.12); }\\n  .styleShared__button___3bqt-:active {\\n    background-color: rgba(255, 255, 255, 0.4);\\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2); }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"button\": \"styleShared__button___3bqt-\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!./~/sass-loader/lib/loader.js!./src/styleShared.scss\n// module id = 279\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleApp.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleApp.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleApp.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App/styleApp.scss\n// module id = 650\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleFI.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleFI.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleFI.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FI/styleFI.scss\n// module id = 651\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./stylePde.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./stylePde.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./stylePde.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PDE/stylePde.scss\n// module id = 652\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleVkPlot.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleVkPlot.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../../../node_modules/sass-loader/lib/loader.js!./styleVkPlot.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VkPlot/styleVkPlot.scss\n// module id = 653\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../node_modules/sass-loader/lib/loader.js!./styleShared.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../node_modules/sass-loader/lib/loader.js!./styleShared.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!../node_modules/sass-loader/lib/loader.js!./styleShared.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styleShared.scss\n// module id = 81\n// module chunks = 1"],"sourceRoot":""}